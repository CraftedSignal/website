{{ define "main" }}
<section class="px-6 py-16 md:py-24">
  <div class="max-w-5xl mx-auto space-y-6 text-center">
    <div
      class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-accent/10 text-xs font-semibold uppercase tracking-[0.12em] text-accent"
    >
      {{ i18n "socLeadersBadge" | default "For SOC Leaders" }}
    </div>
    <h1 class="font-display text-4xl md:text-5xl font-semibold leading-tight">
      {{ i18n "socLeadersTitle" | default "Ship detections with confidence. Rollback in seconds." }}
    </h1>
    <p class="text-xl text-muted max-w-3xl mx-auto">
      {{ i18n "socLeadersDescription" | default "Noise budgets that enforce signal quality. Canary deployments with
      blast radius controls. Your team stops firefighting and starts engineering." }}
    </p>
    <div class="flex flex-wrap justify-center gap-4 pt-4">
      <a
        class="inline-flex px-6 py-3 rounded-xl bg-gradient-to-r from-accent to-accent2 text-base font-semibold text-base/90 shadow-soft hover:scale-[1.01] transition"
        href="#roi-calculator"
      >
        {{ i18n "socLeadersCtaRoi" | default "Calculate your ROI" }}
      </a>
      <a
        class="inline-flex px-6 py-3 rounded-xl border border-stroke text-base font-semibold text-text hover:border-accent/60 transition"
        href="https://demo.craftedsignal.io/"
        target="_blank"
        rel="noopener noreferrer"
      >
        {{ i18n "socLeadersCtaTry" | default "Try the demo" }}
      </a>
    </div>
  </div>
</section>

<!-- Key Benefits -->
<section class="px-6 py-14 md:py-20 bg-panel/40 border-y border-stroke">
  <div class="max-w-6xl mx-auto space-y-8">
    <div class="grid md:grid-cols-3 gap-6">
      <div class="rounded-2xl border border-stroke bg-base/70 p-6 space-y-4">
        <h3 class="font-display text-xl font-semibold">
          {{ i18n "socLeadersBenefit1Title" | default "Noise budgets" }}
        </h3>
        <p class="text-sm text-muted">
          {{ i18n "socLeadersBenefit1Desc" | default "Set thresholds per team or service. Rules exceeding budget get
          flagged before they ship. No more surprise alert storms." }}
        </p>
      </div>
      <div class="rounded-2xl border border-stroke bg-base/70 p-6 space-y-4">
        <h3 class="font-display text-xl font-semibold">
          {{ i18n "socLeadersBenefit2Title" | default "Safe deployments" }}
        </h3>
        <p class="text-sm text-muted">
          {{ i18n "socLeadersBenefit2Desc" | default "Canary rollouts with configurable blast radius. Shadow evaluation
          against live data. One-click rollback if anything breaks." }}
        </p>
      </div>
      <div class="rounded-2xl border border-stroke bg-base/70 p-6 space-y-4">
        <h3 class="font-display text-xl font-semibold">
          {{ i18n "socLeadersBenefit3Title" | default "Detection debt tracking" }}
        </h3>
        <p class="text-sm text-muted">
          {{ i18n "socLeadersBenefit3Desc" | default "Automatic backlog of broken, noisy, and stale rules. SLA-based
          prioritization. Know exactly what needs fixing." }}
        </p>
      </div>
    </div>
  </div>
</section>

<!-- ROI Calculator -->
<section id="roi-calculator" class="px-6 py-14 md:py-20">
  <div class="max-w-4xl mx-auto space-y-8">
    <div class="text-center space-y-4">
      <p class="text-xs font-semibold uppercase tracking-[0.14em] text-accent">
        {{ i18n "roiCalcLabel" | default "ROI Calculator" }}
      </p>
      <h2 class="font-display text-2xl md:text-3xl font-semibold">
        {{ i18n "roiCalcTitle" | default "Calculate your noise reduction savings" }}
      </h2>
    </div>

    <div class="rounded-2xl border border-stroke bg-panel/60 p-6 md:p-8">
      <div class="grid md:grid-cols-2 gap-8">
        <!-- Inputs -->
        <div class="space-y-6">
          <div>
            <label class="block text-sm font-medium mb-2">
              {{ i18n "roiCalcInput1" | default "Number of detection rules" }}
            </label>
            <input
              type="number"
              id="roi-rules"
              value="500"
              min="1"
              class="w-full px-4 py-3 rounded-xl border border-stroke bg-base/70 text-text focus:border-accent focus:outline-none"
            />
          </div>
          <div>
            <label class="block text-sm font-medium mb-2">
              {{ i18n "roiCalcInput2" | default "Hours/week on false positive triage" }}
            </label>
            <input
              type="number"
              id="roi-hours"
              value="20"
              min="1"
              class="w-full px-4 py-3 rounded-xl border border-stroke bg-base/70 text-text focus:border-accent focus:outline-none"
            />
          </div>
          <div>
            <label class="block text-sm font-medium mb-2">
              {{ i18n "roiCalcInput3" | default "Average analyst hourly cost (€)" }}
            </label>
            <input
              type="number"
              id="roi-cost"
              value="75"
              min="1"
              class="w-full px-4 py-3 rounded-xl border border-stroke bg-base/70 text-text focus:border-accent focus:outline-none"
            />
          </div>
          <div>
            <label class="block text-sm font-medium mb-2">
              {{ i18n "roiCalcInput4" | default "Number of SIEM platforms" }}
            </label>
            <input
              type="number"
              id="roi-siems"
              value="2"
              min="1"
              max="10"
              class="w-full px-4 py-3 rounded-xl border border-stroke bg-base/70 text-text focus:border-accent focus:outline-none"
            />
          </div>
        </div>

        <!-- Results -->
        <div class="space-y-6">
          <div class="rounded-xl border border-accent/30 bg-accent/5 p-6 space-y-4">
            <h3 class="font-semibold text-accent">
              {{ i18n "roiCalcResultsTitle" | default "Your estimated savings" }}
            </h3>
            <div class="space-y-3">
              <div class="flex justify-between items-center">
                <span class="text-muted">{{ i18n "roiCalcResult1" | default "Hours saved/year" }}</span>
                <span id="roi-result-hours" class="text-2xl font-bold">624</span>
              </div>
              <div class="flex justify-between items-center">
                <span class="text-muted">{{ i18n "roiCalcResult2" | default "Cost savings/year" }}</span>
                <span id="roi-result-cost" class="text-2xl font-bold text-accent">€46,800</span>
              </div>
              <div class="flex justify-between items-center">
                <span class="text-muted">{{ i18n "roiCalcResult3" | default "Noise reduction" }}</span>
                <span id="roi-result-noise" class="text-2xl font-bold">60%</span>
              </div>
            </div>
          </div>

          <a
            href="mailto:{{ .Site.Params.salesEmail }}?subject=ROI%20Discussion&body=I%20calculated%20potential%20savings%20and%20would%20like%20to%20discuss."
            class="block w-full px-6 py-3 rounded-xl bg-gradient-to-r from-accent to-accent2 text-base font-semibold text-base/90 text-center shadow-soft hover:scale-[1.01] transition"
          >
            {{ i18n "roiCalcCta" | default "Book a call to validate these numbers" }}
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  (function () {
    const rulesInput = document.getElementById("roi-rules");
    const hoursInput = document.getElementById("roi-hours");
    const costInput = document.getElementById("roi-cost");
    const siemsInput = document.getElementById("roi-siems");
    const resultHours = document.getElementById("roi-result-hours");
    const resultCost = document.getElementById("roi-result-cost");
    const resultNoise = document.getElementById("roi-result-noise");

    function calculate() {
      const rules = parseInt(rulesInput.value) || 0;
      const hours = parseInt(hoursInput.value) || 0;
      const cost = parseInt(costInput.value) || 0;
      const siems = parseInt(siemsInput.value) || 1;

      // Assumptions: 60% noise reduction, complexity factor for multi-SIEM
      const noiseReduction = 0.6;
      const complexityFactor = 1 + (siems - 1) * 0.15;
      const hoursSaved = Math.round(hours * 52 * noiseReduction * complexityFactor);
      const costSaved = hoursSaved * cost;

      resultHours.textContent = hoursSaved.toLocaleString();
      resultCost.textContent = "€" + costSaved.toLocaleString();
      resultNoise.textContent = Math.round(noiseReduction * 100) + "%";
    }

    [rulesInput, hoursInput, costInput, siemsInput].forEach((input) => {
      input.addEventListener("input", calculate);
    });

    calculate();
  })();
</script>

<!-- Final CTA -->
<section class="px-6 py-14 md:py-20 bg-panel/60 border-t border-stroke">
  <div class="max-w-3xl mx-auto text-center space-y-6">
    <h2 class="font-display text-2xl md:text-3xl font-semibold">
      {{ i18n "socLeadersCtaTitle" | default "Ready to stop the noise?" }}
    </h2>
    <div class="flex flex-wrap justify-center gap-4">
      <a
        class="inline-flex px-6 py-3 rounded-xl bg-gradient-to-r from-accent to-accent2 text-base font-semibold text-base/90 shadow-soft hover:scale-[1.01] transition"
        href="mailto:{{ .Site.Params.salesEmail }}"
      >
        {{ i18n "socLeadersCtaContact" | default "Talk to sales" }}
      </a>
      <a
        class="inline-flex px-6 py-3 rounded-xl border border-stroke text-base font-semibold text-text hover:border-accent/60 transition"
        href="https://demo.craftedsignal.io/"
        target="_blank"
        rel="noopener noreferrer"
      >
        {{ i18n "socLeadersCtaTryFinal" | default "Try the demo" }}
      </a>
    </div>
  </div>
</section>
{{ end }}
