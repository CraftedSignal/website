{{ define "main" }}
<section class="px-6 py-16 md:py-24">
  <div class="max-w-5xl mx-auto space-y-6 text-center">
    <div
      class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-accent/10 text-xs font-semibold uppercase tracking-[0.12em] text-accent"
    >
      {{ i18n "engineersBadge" | default "For Detection Engineers" }}
    </div>
    <h1 class="font-display text-4xl md:text-5xl font-semibold leading-tight">
      {{ i18n "engineersTitle" | default "Built for engineers who treat detections as code" }}
    </h1>
    <p class="text-xl text-muted max-w-3xl mx-auto">
      {{ i18n "engineersDescription" | default "Git-native workflows. CLI-first tooling. Test before you deploy. Open-core, so you can see exactly what's happening." }}
    </p>
    <div class="flex flex-wrap justify-center gap-4 pt-4">
      <a
        class="inline-flex px-6 py-3 rounded-xl bg-gradient-to-r from-accent to-accent2 text-base font-semibold text-base/90 shadow-soft hover:scale-[1.01] transition"
        href="https://demo.craftedsignal.io/"
        target="_blank"
        rel="noopener noreferrer"
      >
        {{ i18n "engineersCtaTry" | default "Try the demo" }}
      </a>
      <a
        class="inline-flex px-6 py-3 rounded-xl border border-stroke text-base font-semibold text-text hover:border-accent/60 transition"
        href="{{ .Site.Params.docsURL }}"
      >
        {{ i18n "engineersCtaDocs" | default "Read the docs" }}
      </a>
    </div>
  </div>
</section>

<!-- CLI Showcase -->
<section class="px-6 py-14 md:py-20 bg-panel/40 border-y border-stroke">
  <div class="max-w-6xl mx-auto space-y-8">
    <div class="text-center space-y-4">
      <p class="text-xs font-semibold uppercase tracking-[0.14em] text-accent">
        {{ i18n "engineersCliLabel" | default "CLI-first tooling" }}
      </p>
      <h2 class="font-display text-2xl md:text-3xl font-semibold">
        {{ i18n "engineersCliTitle" | default "csctl: Your detection engineering CLI" }}
      </h2>
    </div>

    <div class="grid lg:grid-cols-2 gap-8 items-start">
      <div class="rounded-2xl border border-stroke bg-base/90 overflow-hidden">
        <div class="px-4 py-2 border-b border-stroke bg-panel/60 flex items-center gap-2">
          <span class="w-3 h-3 rounded-full bg-red-500/60"></span>
          <span class="w-3 h-3 rounded-full bg-yellow-500/60"></span>
          <span class="w-3 h-3 rounded-full bg-green-500/60"></span>
          <span class="ml-2 text-xs text-muted font-mono">terminal</span>
        </div>
        <pre
          class="p-4 text-sm font-mono text-text overflow-x-auto"
        ><code class="text-muted"># Pull rules from your SIEM</code>
<code class="text-accent">$</code> csctl pull --source splunk --env production

<code class="text-muted"># Validate locally</code>
<code class="text-accent">$</code> csctl validate ./rules/
<code class="text-green-400">✓ 47 rules validated</code>
<code class="text-yellow-400">⚠ 3 rules have warnings</code>

<code class="text-muted"># Push with canary deployment</code>
<code class="text-accent">$</code> csctl push --canary --blast-radius 5%
<code class="text-green-400">✓ Canary deployed to 5% of traffic</code></pre>
      </div>

      <div class="space-y-4">
        <div class="rounded-xl border border-stroke bg-base/70 p-4">
          <h3 class="font-semibold mb-2">{{ i18n "engineersFeature1Title" | default "Git-native workflow" }}</h3>
          <p class="text-sm text-muted">
            {{ i18n "engineersFeature1Desc" | default "Branch, PR, merge. Your detection rules live in Git with full version history." }}
          </p>
        </div>
        <div class="rounded-xl border border-stroke bg-base/70 p-4">
          <h3 class="font-semibold mb-2">{{ i18n "engineersFeature2Title" | default "GitHub Actions ready" }}</h3>
          <p class="text-sm text-muted">
            {{ i18n "engineersFeature2Desc" | default "CI/CD for detections. Validate on PR, deploy on merge, rollback on failure." }}
          </p>
        </div>
        <div class="rounded-xl border border-stroke bg-base/70 p-4">
          <h3 class="font-semibold mb-2">{{ i18n "engineersFeature3Title" | default "Open-core transparency" }}</h3>
          <p class="text-sm text-muted">
            {{ i18n "engineersFeature3Desc" | default "CLI and parsers are Apache 2.0. See what's happening. Contribute improvements." }}
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Reuse existing rules section for the code editor -->
{{- partial "sections/rules.html" . -}}

<!-- Final CTA -->
<section class="px-6 py-14 md:py-20 bg-panel/60 border-t border-stroke">
  <div class="max-w-3xl mx-auto text-center space-y-6">
    <h2 class="font-display text-2xl md:text-3xl font-semibold">
      {{ i18n "engineersCtaTitle" | default "Ready to ship detections like code?" }}
    </h2>
    <div class="flex flex-wrap justify-center gap-4">
      <a
        class="inline-flex px-6 py-3 rounded-xl bg-gradient-to-r from-accent to-accent2 text-base font-semibold text-base/90 shadow-soft hover:scale-[1.01] transition"
        href="https://demo.craftedsignal.io/"
        target="_blank"
        rel="noopener noreferrer"
      >
        {{ i18n "engineersCtaTryFinal" | default "Try the demo" }}
      </a>
      <a
        class="inline-flex px-6 py-3 rounded-xl border border-stroke text-base font-semibold text-text hover:border-accent/60 transition"
        href="{{ .Site.Params.docsURL }}"
      >
        {{ i18n "engineersCtaDocsFinal" | default "Read the docs" }}
      </a>
    </div>
  </div>
</section>
{{ end }}
